--- PROMPT ---
SystemMessage: You are a professional content moderator who filters out content based on your master's preferences.
Your task is to analyze each content item and determine if it should be rejected based on:
  The specific filter preferences provided by the user

For each rejected item, you must provide a clear and specific reason for rejection. Keep the reason below 10 words.
The reason should reference either the user's filter preferences or the general guidelines.

You should be thorough in your analysis but also efficient. For each item, consider all the details provided to make a decision.

Your response should be formatted as a valid JSON object matching this schema:
"rejected_items": [
  {
    "id": "id_of_content",
    "reason": "reason for rejection in less than 10 words"
  },
  {
    "id": "id_of_content",
    "reason": "reason for rejection in less than 10 words"
  }
]

Return only the raw JSON output. Do not include markdown formatting, code blocks, or any other text.
The response must be plain JSON, beginning with { and ending with }.

HumanMessage: Please analyze the following content items and identify any that should be rejected.
Use the 'title' as the primary basis for moderation decisions. If the title is ambiguous or insufficient, consider 'tags' and 'categories' as supporting signals. 
Prioritize rejection based on strong matches in the title first, then use tags/categories only if they reinforce or clarify relevance to the filter preferences.

User's filter preferences (reject content matching these):
Reject content focused on UPSC exam prepâ€”strategy, coaching, syllabus, toppers, tips. Allow news or case studies where UPSC is only mentioned, not the main focus.

Content items to analyze:
{
  "items": [
    {
      "id": "2CVmRl0glIo",
      "title": "World War III Begins? Fear erupts as US Strikes Iran | Israel on Alert | Ankit Agrawal Study IQ",
      "tags": [
        "iran",
        "trump issues stunning nuclear warning",
        "israel attack iran",
        "donald trump",
        "iran attack israel"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "6yXa79bnxy4",
      "title": "How Persia become Iran? | Iran History | UPSC | StudyIQ IAS",
      "tags": [
        "how did persia become iran",
        "history of iran and israel",
        "history of iran and iraq",
        "iran vs israel war history",
        "benjamin netanyahu"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "CUYWVU4Fabc",
      "title": "How RAW Fooled ISI in Dubai? | Operation Blue Star | IC 421 HIJACK | Khalistan | Varun Jauhari",
      "tags": [
        "ic 421",
        "hijack",
        "hijack plane",
        "aeroplane hijack",
        "ic 421 hijackers"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "D_hFqkFA9vw",
      "title": "Khamenei Vows Revenge: Iran fires Kheibar Shekan missile on Israel | Ankit Agrawal Study IQ",
      "tags": [
        "Israel Iran war",
        "Iran missile attack",
        "Israel air defense",
        "israel",
        "iran israel war"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "JUHy5ZOtJjs",
      "title": "UPSC 2026-27 | Complete SCIENCE NCERT Class 6 | StudyIQ IAS",
      "tags": [
        "Ncert Science Series",
        "Ncert Science",
        "Science Ncert",
        "ncert science",
        "science ncert"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "R-CJkipy6Oo",
      "title": "Iran may have moved 400 kg Uranium before the US Strikes | Ankit Agrawal Study IQ",
      "tags": [
        "b-2 bombers",
        "china news",
        "iran ballistic missiles",
        "iran nuclear",
        "israel"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "UTj8eeLudOs",
      "title": "Iran's Khamenei Hiding In Bunker | Pick Successors | Israel, Iran War | Ankit Agrawal Study IQ",
      "tags": [
        "us bombs iran",
        "trump bombed iran",
        "trump bombs iran",
        "b2 bomber",
        "israel iran"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "Vn92aSNEmmY",
      "title": "US Joins Israel: Bombs three Iranian nuclear sites | What's Next? Ankit Agrawal Study IQ",
      "tags": [
        "us bombs iran",
        "trump bombed iran",
        "trump bombs iran",
        "b2 bomber",
        "israel iran"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "_XDbpV1x8dM",
      "title": "Trump Claims Ceasefire in Iran - Israel War | Iran Says NO | Ankit Agrawal Study IQ",
      "tags": [
        "study iq ias",
        "ceasefire iran and israel",
        "israel attack iran",
        "iran attack israel",
        "iran missile attack on israel"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "gzADwQuCqxc",
      "title": "Understand UPSC IAS Exam Syllabus & Structure | Detailed Explanation | Ankit Agrawal",
      "tags": [
        "upsc 2026",
        "upsc 2026 strategy",
        "geopolitics",
        "iran isreal war",
        "news"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "mlydf41Mzmk",
      "title": "How to read NCERT Books for UPSC IAS Preparation? | Ankit Agrawal | StudyIQ",
      "tags": [
        "studyiq",
        "studyiq ias",
        "upsc",
        "how to read ncert for upsc",
        "civil services"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "udDQia-8kY4",
      "title": "Iran fires missiles at US airbase in Qatar, Doha | What's Next? Ankit Agrawal Study IQ",
      "tags": [
        "israel strikes iran",
        "israel",
        "israel iran war",
        "iran israel war",
        "israel attack iran"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "wa8O9qkQQT4",
      "title": "How Deep is the Ocean Really? | Explore Marine Life Through Animation | StudyIQ",
      "tags": [
        "how deep is the ocean",
        "deep sea exploration",
        "deep sea creatures",
        "mariana trench",
        "sperm whale"
      ],
      "categories": [
        "Education"
      ]
    },
    {
      "id": "x7bNok4UWKA",
      "title": "Iran to block key oil choke point? Why Strait of Hormuz matters? Ankit Agrawal Study IQ",
      "tags": [
        "straits of hormuz",
        "strait of hormuz explained",
        "strait of hormuz crisis",
        "strait of hormuz map",
        "can iran close strait of hormuz"
      ],
      "categories": [
        "Education"
      ]
    }
  ],
  "filter_preferences": [
    "Reject content focused on UPSC exam prep\u2014strategy, coaching, syllabus, toppers, tips. Allow news or case studies where UPSC is only mentioned, not the main focus."
  ]
}

--- RAW RESPONSE ---
{
  "rejected_items": [
    {
      "id": "6yXa79bnxy4",
      "reason": "UPSC in title"
    },
    {
      "id": "JUHy5ZOtJjs",
      "reason": "UPSC in title"
    },
    {
      "id": "gzADwQuCqxc",
      "reason": "UPSC in title"
    },
    {
      "id": "mlydf41Mzmk",
      "reason": "UPSC in title"
    }
  ]
}
